
crea machcina
-----------------

aws 

new ec2 instance

scegli os linux2 no amazion 2023

create key .pem

chiamala col nome dell'app che vai a caricarci, solo per chiarezza

es 
aqi_luftdaten.pem

allow http traffic flag s√¨

lancia

salvat l'ip publbico (a ogni stop cambia)


deploya app
------------

vai nella cartella di linux dove hai salvato la .pem

chmod 400 aqi_luftdaten.pem

ssh -i aqi_luftdaten.pem ec2-user@<ip_publbico_istanza>

>>entra nella vm

sudo dnf update -y

sudo dnf install git -y

git clone https://github.com/tommasosansone91/aqi_luftdaten.git

cd aqi_luftdaten/

sudo dnf install pip -y

cat requirements.txt | xargs -n 1 pip install

(ho rimosso tutti i riferimenti a heroku e messo una secret key visibile)

va creato il db!!

creazione db
--------------

dalla cli a seconda della versione di aws ami che hai, tipo7

https://linux.how2shout.com/how-to-install-postgresql-15-amazon-linux-2023/

meglio acvere linux2

sudo netstat -lntp | grep postgres



python3 manage.py makemigrations

python3 manage.py migrate

python3 manage.py createsuperuser

python3 manage.py runserver 0.0.0.0:8000


contenti apertura
-------------------

instanza > security tab > security grup id link > edit inbound security rules 

lasica la parte del ssh

aggiungi 
type: custo tcp
porta: 8000
source: custom
ip: 0.0.0.0



